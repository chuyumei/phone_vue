{"remainingRequest":"C:\\Users\\24492\\Desktop\\vuepro\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\24492\\Desktop\\vuepro\\vue_app_00\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\24492\\Desktop\\vuepro\\vue_app_00\\src\\store\\index.js","mtime":1543757644787},{"path":"C:\\Users\\24492\\Desktop\\vuepro\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\24492\\Desktop\\vuepro\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport Vue from 'vue'; //购物车 \n\nimport Vuex from \"vuex\";\nvar key = 'user';\nvar isLogin = 'isLogin';\nVue.use(Vuex);\nvar store = new Vuex.Store({\n  state: {\n    carPaneData: [],\n\n    /*存放传进来的数据*/\n    count: 0,\n    isLogin: 0,\n    user: null\n  },\n  mutations: {\n    /*判断用户是否登录 \r\n    changeLogin(state,data){\r\n        state.isLogin = data;\r\n    },\r\n    */\n    $_setLogin: function $_setLogin(state, value) {\n      state.isLogin = value;\n      localStorage.setItem(isLogin, value);\n    },\n    $_setStorage: function $_setStorage(state, value) {\n      state.user = value;\n      localStorage.setItem(key, JSON.stringify(value));\n    },\n    $_removeStorage: function $_removeStorage(state) {\n      state.user = null;\n      localStorage.removeItem(key);\n    },\n    addCartpaneData: function addCartpaneData(state, data) {\n      /*goods是购物车的数据*/\n      var bOff = true;\n      state.carPaneData.forEach(function (carPaneData) {\n        if (carPaneData.id === data.id) {\n          carPaneData.count++;\n          bOff = false;\n        }\n      });\n\n      if (bOff) {\n        var goodsData = data;\n        Vue.set(goodsData, 'count', 1);\n        state.carPaneData.push(goodsData);\n        console.log(goodsData);\n      }\n    },\n    increment: function increment(state, c) {\n      state.count += parseInt(c);\n    },\n    substract: function substract(state) {\n      state.count--;\n    }\n  },\n  getters: {\n    optCount: function optCount(state) {\n      return state.count;\n    },\n    getStorage: function getStorage(state) {\n      if (!state.user) {\n        state.user = JSON.parse(localStorage.getItem(key));\n        state.isLogin = localStorage.getItem(isLogin);\n      }\n\n      return state.user;\n    }\n  }\n});\nexport default store;",{"version":3,"sources":["src\\store\\index.js"],"names":["Vue","Vuex","key","isLogin","use","store","Store","state","carPaneData","count","user","mutations","$_setLogin","value","localStorage","setItem","$_setStorage","JSON","stringify","$_removeStorage","removeItem","addCartpaneData","data","bOff","forEach","id","goodsData","set","push","console","log","increment","c","parseInt","substract","getters","optCount","getStorage","parse","getItem"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB,C,CAEA;;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,IAAMC,MAAM,MAAZ;AACA,IAAMC,UAAU,SAAhB;AAEAH,IAAII,GAAJ,CAAQH,IAAR;AACA,IAAII,QAAM,IAAIJ,KAAKK,KAAT,CAAe;AACvBC,SAAM;AACJC,iBAAY,EADR;;AACa;AACjBC,WAAM,CAFF;AAGJN,aAAQ,CAHJ;AAIJO,UAAM;AAJF,GADiB;AAQvBC,aAAU;AACR;;;;;AAKAC,cANQ,sBAMIL,KANJ,EAMWM,KANX,EAMkB;AACtBN,YAAMJ,OAAN,GAAgBU,KAAhB;AACAC,mBAAaC,OAAb,CAAqBZ,OAArB,EAA8BU,KAA9B;AACD,KATK;AAUNG,gBAVM,wBAUQT,KAVR,EAUeM,KAVf,EAUsB;AAC1BN,YAAMG,IAAN,GAAaG,KAAb;AACAC,mBAAaC,OAAb,CAAqBb,GAArB,EAA0Be,KAAKC,SAAL,CAAeL,KAAf,CAA1B;AACD,KAbK;AAcNM,mBAdM,2BAcWZ,KAdX,EAckB;AACtBA,YAAMG,IAAN,GAAa,IAAb;AACAI,mBAAaM,UAAb,CAAwBlB,GAAxB;AACD,KAjBK;AAoBRmB,mBApBQ,2BAoBQd,KApBR,EAoBce,IApBd,EAoBmB;AAAM;AAC7B,UAAIC,OAAK,IAAT;AACAhB,YAAMC,WAAN,CAAkBgB,OAAlB,CAA0B,uBAAa;AACnC,YAAGhB,YAAYiB,EAAZ,KAAiBH,KAAKG,EAAzB,EAA4B;AACxBjB,sBAAYC,KAAZ;AACAc,iBAAK,KAAL;AACH;AACJ,OALD;;AAMA,UAAGA,IAAH,EAAQ;AACJ,YAAIG,YAAUJ,IAAd;AACAtB,YAAI2B,GAAJ,CAAQD,SAAR,EAAkB,OAAlB,EAA0B,CAA1B;AACAnB,cAAMC,WAAN,CAAkBoB,IAAlB,CAAuBF,SAAvB;AACAG,gBAAQC,GAAR,CAAYJ,SAAZ;AACH;AACJ,KAlCO;AAoCRK,aApCQ,qBAoCExB,KApCF,EAoCQyB,CApCR,EAoCU;AAChBzB,YAAME,KAAN,IAAawB,SAASD,CAAT,CAAb;AACD,KAtCO;AAuCRE,aAvCQ,qBAuCE3B,KAvCF,EAuCQ;AACdA,YAAME,KAAN;AACD;AAzCO,GARa;AAqDrB0B,WAAQ;AACJC,cAAS,kBAAS7B,KAAT,EAAe;AACpB,aAAOA,MAAME,KAAb;AACH,KAHG;AAIJ4B,gBAAY,oBAAU9B,KAAV,EAAiB;AACzB,UAAI,CAACA,MAAMG,IAAX,EAAiB;AACjBH,cAAMG,IAAN,GAAaO,KAAKqB,KAAL,CAAWxB,aAAayB,OAAb,CAAqBrC,GAArB,CAAX,CAAb;AACAK,cAAMJ,OAAN,GAAgBW,aAAayB,OAAb,CAAqBpC,OAArB,CAAhB;AACC;;AACD,aAAOI,MAAMG,IAAb;AACH;AAVG;AArDa,CAAf,CAAV;AAmEA,eAAeL,KAAf","sourceRoot":"C:\\Users\\24492\\Desktop\\vuepro\\vue_app_00","sourcesContent":["import Vue from 'vue'\r\n\r\n//购物车 \r\nimport Vuex from \"vuex\"\r\nconst key = 'user'\r\nconst isLogin = 'isLogin'\r\n\r\nVue.use(Vuex)\r\nlet store=new Vuex.Store({\r\n  state:{\r\n    carPaneData:[],  /*存放传进来的数据*/\r\n    count:0,\r\n    isLogin:0,\r\n    user: null,\r\n  },\r\n\r\n  mutations:{\r\n    /*判断用户是否登录 \r\n    changeLogin(state,data){\r\n        state.isLogin = data;\r\n    },\r\n    */\r\n    $_setLogin (state, value) {\r\n        state.isLogin = value\r\n        localStorage.setItem(isLogin, value)\r\n      },\r\n      $_setStorage (state, value) {\r\n        state.user = value\r\n        localStorage.setItem(key, JSON.stringify(value))\r\n      },\r\n      $_removeStorage (state) {\r\n        state.user = null\r\n        localStorage.removeItem(key)\r\n      },\r\n\r\n\r\n    addCartpaneData(state,data){     /*goods是购物车的数据*/\r\n        let bOff=true\r\n        state.carPaneData.forEach(carPaneData=>{\r\n            if(carPaneData.id===data.id){\r\n                carPaneData.count++\r\n                bOff=false\r\n            }\r\n        })\r\n        if(bOff){\r\n            let goodsData=data\r\n            Vue.set(goodsData,'count',1)\r\n            state.carPaneData.push(goodsData)\r\n            console.log(goodsData)\r\n        }\r\n    },\r\n\r\n    increment(state,c){\r\n      state.count+=parseInt(c);\r\n    },\r\n    substract(state){\r\n      state.count--;\r\n    }\r\n  },\r\n\r\n\r\n    getters:{\r\n        optCount:function(state){\r\n            return state.count;\r\n        },\r\n        getStorage: function (state) {\r\n            if (!state.user) {\r\n            state.user = JSON.parse(localStorage.getItem(key))\r\n            state.isLogin = localStorage.getItem(isLogin)\r\n            }\r\n            return state.user\r\n        }\r\n    }\r\n})\r\n\r\nexport default store"]}]}